---
title: "prova"
output: html_document
date: "2023-11-20"
---
Certo, posso fornirti le soluzioni in {r} per gli esercizi dell'esercitazione che abbiamo preparato. Queste soluzioni presuppongono che il dataset sia già stato caricato in {r} e sia denominato `dataset`.

### Soluzioni degli Esercizi

#### 1. Comando `filter()`
1. Pazienti oltre i 65 anni:
```{r}
dataset %>% 
  filter(Età > 65)
```

2. Pazienti con diabete e pressione alta:
```{r}
dataset %>%
  filter(Diagnosi == "Diabete", Pressione_Sanguigna > 130)
```

3. Pazienti femmine con glucosio basso:
```{r}
dataset %>% 
  filter(Genere == "Femmina", Livello_Glucosio < 90)
```

#### 2. Comando `select()`
1. Selezionare ID, Età, Diagnosi:
```{r}
dataset %>%
  select(ID_Paziente, Età, Diagnosi)
```
2. Nuovo dataset con Genere, Glucosio, Pressione:
```{r}
nuovo_dataset <- dataset %>%
  select(Genere, Livello_Glucosio, Pressione_Sanguigna)
```
3. Escludere la colonna Diagnosi:
```{r}
dataset %>% 
  select(-Diagnosi)
```

#### 3. Comando `mutate()`
1. Aggiungere colonna livello glucosio:
```{r}
dataset %>% 
  mutate(Status_Glucosio = case_when(
     Livello_Glucosio > 110 ~ "Alto",
     Livello_Glucosio >= 70 ~ "Normale",
     TRUE ~ "Basso"
   ))
```
2. Categorizzare l'età:
```{r}
dataset %>% 
  mutate(Fascia_Età = case_when(
     Età <= 40 ~ "Giovane",
     Età <= 65 ~ "Adulto",
     TRUE ~ "Anziano"
   ))
```
3. Calcolare il BMI:
```{r}
dataset %>% 
  mutate(
    Peso = runif(100, min = 50, max = 100),  # Peso casuale
                      BMI = Peso / (1.75^2)
    )  # Assumendo un'altezza costante di 1.75m
```

#### 4. Comando `summarise()`
1. Età media per genere:
```{r}
dataset %>%
  group_by(Genere) %>%
  summarise(Età_Media = mean(Età))
```
2. Glucosio medio per diagnosi:
```{r}
dataset %>%
  group_by(Diagnosi) %>% 
  summarise(
    Glucosio_Medio = mean(Livello_Glucosio)
    )
```
3. Pressione massima e minima:
```{r}
dataset %>%
  summarise(
    Pressione_Max = max(Pressione_Sanguigna), 
    Pressione_Min = min(Pressione_Sanguigna)
    )
```

#### Esercizi di Combinazione
1. Età media dei maschi con ipertensione:
```{r}
dataset %>% 
  filter(Genere == "Maschio", Diagnosi == "Ipertensione") %>% 
  summarise(Età_Media = mean(Età))
```
2. Glucosio medio per fasce di età:
```{r}
dataset %>% 
  mutate(Fascia_Età = case_when(
     Età <= 40 ~ "Giovane",
     Età <= 65 ~ "Adulto",
     TRUE ~ "Anziano"
   )) %>%
  group_by(Fascia_Età) %>% 
  summarise(Glucosio_Medio = mean(Livello_Glucosio))
```
3. Numero di pazienti per categoria BMI, per genere e età:
```{r}
dataset %>%
  mutate(BMI_Categoria = case_when(
     BMI < 18.5 ~ "Sottopeso",
     BMI < 25 ~ "Normale",
     BMI < 30 ~ "Sovrappeso",
     TRUE ~ "Obeso"
   )) %>% 
  group_by(Genere, Fascia_Età, BMI_Categoria) %>% 
  summarise(Numero_Pazienti = n())
```

